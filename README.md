# Off the Beaten Path - Backend

This project was built with Flask-APISpec.

## Setup

Create a virtual environment, then install the package requirements:
```bash
python3 -m venv .
pip install -r requirements.txt
```

Configure the environment by copying `env/*.example.env` to `env/dev.env`, `env/docker.env`, and `env/test.env`, and then 
making the appropriate changes.

For development, use [Mailtrap](mailtrap.io) to easily work with the application's emails.

## Running the application

Within the context of the virtual environment, run:

```bash
OTBP_SETTINGS=$(pwd)/env/dev.env flask run
```

to start the application with `env/dev.env` as the settings file.

Navigate to [http://127.0.0.1:5000/](http://127.0.0.1:5000/) to see the autogenerated 
Swagger documentation.

## Running unit tests

Run `OTBP_SETTINGS=$(pwd)/env/test.env pytest` to run the tests.

## Production

Use Docker for production. With docker and docker-compose installed:

```bash
docker-compose build
docker-compose up
```

Navigate to [http://localhost:8099/](http://localhost:8099/) to see the autogenerated 
Swagger documentation.

For production, configure the mail settings to use a service, such as [Mailgun](https://www.mailgun.com/).

## License

GPLv3+
